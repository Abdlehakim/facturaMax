/* CreateInvoiceStyles.css */
#invoice .actions.toolbar{display:flex;gap:8px;justify-content:flex-end;margin-bottom:12px}

/* Section boxes aligned with StockStyles */
#invoice .section-box{border:1px solid rgba(28,63,170,.08);box-shadow:0 12px 30px -18px rgba(28,63,170,.55),0 0 0 1px rgba(15,23,42,.04);border-radius:14px;background:#fff;padding:22px 24px;margin-bottom:24px}
#invoice .section-box>legend{font-weight:700;letter-spacing:.02em;text-transform:uppercase;color:#0b1f4b;padding:0 8px;margin-left:2px}
#invoice .section-box .grid{margin-top:10px}

/* Items table */
#invoice .table-wrap{overflow:hidden;border-radius:10px;border:1px solid rgba(15,23,42,.06);box-shadow:0 10px 24px -20px rgba(15,23,42,.45)}
#invoice table{width:100%;font-size:14px;border-collapse:collapse}
#invoice th,#invoice td{padding:5px}
#invoice td:last-child,#invoice .tabM th:last-child{text-align:center}
#invoice .tabM thead th{background:#eef4ff;color:#1d2a44;font-weight:600;text-transform:uppercase;font-size:12px;letter-spacing:.04em;text-align:left;padding:12px 14px;border-bottom:1px solid rgba(15,23,42,.08)}
#invoice .tabM tbody td{padding:12px 14px;border-bottom:1px solid rgba(15,23,42,.05);color:#22314f}
#invoice .tabM tbody tr:hover{background:rgba(37,99,235,.05)}
#invoice td .del{background:#fee2e2;color:#b91c1c;border:1px solid #fecaca;border-radius:6px;padding:6px 12px;cursor:pointer;transition:background .15s ease,color .15s ease}
#invoice td .del:hover{background:#dc2626;color:#fff;border-color:#dc2626}

#invoice .item-search{display:flex;flex-direction:column;gap:6px;margin-bottom:12px;position:relative;width:100%;z-index:5}
#invoice .item-search__label{font-weight:600;color:#1d2a44;font-size:13px}
#invoice .item-search__row{display:flex;gap:8px;flex-wrap:wrap;align-items:center;width:100%}
#invoice .item-search__row input{flex:1 1 240px;min-width:200px;padding:10px 12px;border:1px solid rgba(15,23,42,.14);border-radius:8px;background:#fff;color:#132a66;width:100%}
#invoice .item-search__row input:focus{outline:2px solid rgba(37,99,235,.36);outline-offset:1px}
#invoice .item-search__results{display:none;border:1px solid rgba(15,23,42,.12);border-radius:12px;background:#fff;box-shadow:0 16px 34px -22px rgba(15,23,42,.35);padding:10px;max-height:280px;min-height:44px;overflow-y:auto;position:absolute;top:calc(100% + 8px);left:0;right:0;width:100%;z-index:1000;pointer-events:auto}
#invoice .item-search__results.is-visible{display:block}
#invoice .item-search__result{display:flex;justify-content:space-between;align-items:center;padding:6px 10px;border-radius:8px;gap:12px;cursor:pointer;transition:background .15s ease}
#invoice .item-search__result:hover{background:rgba(37,99,235,.08)}
#invoice .item-search__info{display:flex;flex-direction:column;gap:4px;min-width:0}
#invoice .item-search__title{font-weight:600;color:#0b1f4b}
#invoice .item-search__subtitle{display:flex;flex-wrap:wrap;gap:6px;align-items:center;font-size:12px;color:#4b5563}
#invoice .item-search__badge{display:inline-flex;align-items:center;justify-content:center;padding:2px 8px;border-radius:999px;background:#eef4ff;color:#1d2a44;font-weight:500}
#invoice .item-search__desc{max-width:320px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
#invoice .item-search__meta{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
#invoice .item-search__price{font-weight:600;color:#1d2a44;font-size:13px}
#invoice .item-search__empty{padding:8px 10px;font-size:13px;color:#4b5563}

/* Inline QTE controls inside the ACTION column */
#invoice td.add-actions{display:flex;align-items:center;gap:10px;justify-content:flex-end}
#invoice .qte-controls{display:inline-flex;align-items:center;gap:6px}
#invoice .qte-controls .btn.tiny{padding:2px 8px;line-height:1;border-radius:6px}
#invoice .qte-controls .qte-input{width:56px;min-width:56px;text-align:center;padding:6px 8px}

/* Mini summary */
#invoice .mini-sum{border:1px solid rgba(15,23,42,.06);border-radius:10px;box-shadow:0 10px 24px -20px rgba(15,23,42,.25);min-width:320px;max-width:380px;margin-left:auto;background:#fff}
#invoice .mini-sum th,#invoice .mini-sum td{background:#fff;color:#0e1220;font-weight:700;text-align:center;padding:10px}
#invoice .mini-sum th{background:#eef4ff;color:#1d2a44}
#invoice .mini-sum .grand th{font-weight:700}
#invoice .mini-sum .right,#invoice .mini-sum .symbol{text-align:center}

/* Legend/labels: keep facture/societe visible by default */
#invoice .section-box legend .for-devis,
#invoice .section-box legend .for-bl,
#invoice .section-box legend .for-bc{display:none}
#invoice #invNumberLabel .for-devis,
#invoice #invNumberLabel .for-bl,
#invoice #invNumberLabel .for-bc{display:none}
#invoice #clientIdLabel .for-soc{display:inline}
#invoice #clientIdLabel .for-part{display:none}

#invoice #items thead th:nth-child(6),
#invoice #items thead th:nth-child(7){white-space:nowrap;min-width:84px}

#invoice .label-inline{display:inline-flex;align-items:center;gap:.5rem}
#invoice .label-text{cursor:default;user-select:text;white-space:nowrap}
#invoice .col-toggle{cursor:pointer}

/* Table column visibility (controlled by JS via classes on <body>) */
.hide-col-ref    #invoice #items thead th:nth-child(1),
.hide-col-ref    #invoice #items tbody td:nth-child(1){display:none}
.hide-col-product#invoice #items thead th:nth-child(2),
.hide-col-product#invoice #items tbody td:nth-child(2){display:none}
.hide-col-desc   #invoice #items thead th:nth-child(3),
.hide-col-desc   #invoice #items tbody td:nth-child(3){display:none}
.hide-col-qty    #invoice #items thead th:nth-child(4),
.hide-col-qty    #invoice #items tbody td:nth-child(4){display:none}
.hide-col-price  #invoice #items thead th:nth-child(5),
.hide-col-price  #invoice #items tbody td:nth-child(5){display:none}
.hide-col-tva    #invoice #items thead th:nth-child(6),
.hide-col-tva    #invoice #items tbody td:nth-child(6){display:none}
.hide-col-discount#invoice #items thead th:nth-child(7),
.hide-col-discount#invoice #items tbody td:nth-child(7){display:none}

/* Extras / options default state (JS turns them on/off with inline styles) */
#invoice #extrasBox #shipFields,
#invoice #extrasBox #stampFields,
#invoice #extrasBox #fodecFields,
#invoice #whBox #whFields{display:none}
#invoice #extrasBox #shipFields,
#invoice #extrasBox #stampFields{grid-template-columns:2fr 1fr 1fr;gap:12px;align-items:end;width:100%}
#invoice #extrasBox #fodecFields{grid-template-columns:2fr 1fr 1fr 1fr 1fr;gap:12px;align-items:end;width:100%}
#invoice #whBox #whFields{grid-template-columns:1fr 1fr 1fr 2fr 1fr;gap:12px;align-items:end;width:100%}
#invoice #whFields label.full{grid-column:auto}

/* Recent invoices list */
#invoice #recentInvoices{margin-top:10px;border:1px solid #dfe3ea;border-radius:8px;padding:10px;background:#f9fbfd}
#invoice #recentInvoices h4{margin:0 0 8px 0;font-size:14px}
#invoice #recentInvoicesList{display:grid;gap:8px}
#invoice .recent-row{display:grid;grid-template-columns:1fr auto auto;gap:8px;align-items:center;padding:6px 8px;border:1px solid #e6ebf2;border-radius:6px;background:#fff}
#invoice .recent-row .meta{display:flex;flex-wrap:wrap;align-items:center;gap:8px}
#invoice .recent-row .meta .tag{display:inline-block;padding:2px 8px;font-size:12px;line-height:1;color:#3a57a6;background:#eef3ff;border:1px solid #dbe6ff;border-radius:999px}
#invoice .recent-row .muted{color:#212121;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
#invoice .recent-row .actions button{margin-left:6px}

/* Responsive */
@media (max-width:900px){
  #invoice .grid.two{grid-template-columns:1fr}
  #invoice .grid.three{grid-template-columns:1fr}
  #invoice .grid.four{grid-template-columns:1fr}
  #invoice .table-wrap{-webkit-overflow-scrolling:touch}
  #invoice #items{min-width:720px}
  #invoice #items th,#invoice #items td{padding:6px;font-size:13px}
  #invoice .mini-sum{margin-left:0;max-width:100%;width:100%}
  #invoice #whBox #whFields{grid-template-columns:1fr 1fr}
  #invoice #whFields label.full{grid-column:1 / -1}
  #invoice .recent-row{grid-template-columns:1fr;gap:6px;align-items:flex-start}
  #invoice .recent-row .actions{display:flex;gap:6px}
}
@media (max-width:720px){
  #invoice .section-box{padding:12px}
  #invoice .section-box>legend{margin-left:4px;font-size:12px}
  #invoice .btn{padding:.28rem .7rem;font-size:.82rem}
  #invoice input,#invoice select,#invoice textarea{font-size:12.5px;padding:8px}
  #invoice #items{min-width:640px}
  #invoice #items th,#invoice #items td{padding:5px;font-size:12.5px}
  #invoice #extrasBox #shipFields,
  #invoice #extrasBox #stampFields,
  #invoice #extrasBox #fodecFields{grid-template-columns:1fr}
}
@media (max-width:420px){
  #invoice .btn{padding:.26rem .6rem;font-size:.8rem;border-radius:4px}
  #invoice #items{min-width:560px}
  #invoice #items th,#invoice #items td{padding:4px;font-size:12px}
  #invoice .mini-sum th,#invoice .mini-sum td{padding:7px;font-size:12.5px}
}
